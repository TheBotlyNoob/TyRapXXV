<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>CharsToNameCanonicalizer (TyRapXXV API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.fasterxml.jackson.core.sym, class: CharsToNameCanonicalizer">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.fasterxml.jackson.core.sym</a></div>
<h1 title="Class CharsToNameCanonicalizer" class="title">Class CharsToNameCanonicalizer</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.fasterxml.jackson.core.sym.CharsToNameCanonicalizer</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public final class </span><span class="element-name type-name-label">CharsToNameCanonicalizer</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">This class is a kind of specialized type-safe Map, from char array to
 String value. Specialization means that in addition to type-safety
 and specific access patterns (key char array, Value optionally interned
 String; values added on access if necessary), and that instances are
 meant to be used concurrently, but by using well-defined mechanisms
 to obtain such concurrently usable instances. Main use for the class
 is to store symbol table information for things like compilers and
 parsers; especially when number of symbols (keywords) is limited.
<p>
 For optimal performance, usage pattern should be one where matches
 should be very common (especially after "warm-up"), and as with most hash-based
 maps/sets, that hash codes are uniformly distributed. Also, collisions
 are slightly more expensive than with HashMap or HashSet, since hash codes
 are not used in resolving collisions; that is, equals() comparison is
 done with all symbols in same bucket index.<br>
 Finally, rehashing is also more expensive, as hash codes are not
 stored; rehashing requires all entries' hash codes to be recalculated.
 Reason for not storing hash codes is reduced memory usage, hoping
 for better memory locality.
<p>
 Usual usage pattern is to create a single "master" instance, and either
 use that instance in sequential fashion, or to create derived "child"
 instances, which after use, are asked to return possible symbol additions
 to master instance. In either case benefit is that symbol table gets
 initialized so that further uses are more efficient, as eventually all
 symbols needed will already be in symbol table. At that point no more
 Symbol String allocations are needed, nor changes to symbol table itself.
<p>
 Note that while individual SymbolTable instances are NOT thread-safe
 (much like generic collection classes), concurrently used "child"
 instances can be freely used without synchronization. However, using
 master table concurrently with child instances can only be done if
 access to master instance is read-only (i.e. no modifications done).</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected com.fasterxml.jackson.core.sym.CharsToNameCanonicalizer.Bucket[]</code></div>
<div class="col-second even-row-color"><code><a href="#_buckets" class="member-name-link">_buckets</a></code></div>
<div class="col-last even-row-color">
<div class="block">Overflow buckets; if primary doesn't match, lookup is done
 from here.</div>
</div>
<div class="col-first odd-row-color"><code>protected boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#_canonicalize" class="member-name-link">_canonicalize</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Whether any canonicalization should be attempted (whether using
 intern or not.</div>
</div>
<div class="col-first even-row-color"><code>protected final int</code></div>
<div class="col-second even-row-color"><code><a href="#_flags" class="member-name-link">_flags</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#_hashShared" class="member-name-link">_hashShared</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Flag that indicates whether underlying data structures for
 the main hash area are shared or not.</div>
</div>
<div class="col-first even-row-color"><code>protected int</code></div>
<div class="col-second even-row-color"><code><a href="#_indexMask" class="member-name-link">_indexMask</a></code></div>
<div class="col-last even-row-color">
<div class="block">Mask used to get index from hash values; equal to
 <code>_buckets.length - 1</code>, when _buckets.length is
 a power of two.</div>
</div>
<div class="col-first odd-row-color"><code>protected int</code></div>
<div class="col-second odd-row-color"><code><a href="#_longestCollisionList" class="member-name-link">_longestCollisionList</a></code></div>
<div class="col-last odd-row-color">
<div class="block">We need to keep track of the longest collision list; this is needed
 both to indicate problems with attacks and to allow flushing for
 other cases.</div>
</div>
<div class="col-first even-row-color"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/BitSet.html" title="class or interface in java.util" class="external-link">BitSet</a></code></div>
<div class="col-second even-row-color"><code><a href="#_overflows" class="member-name-link">_overflows</a></code></div>
<div class="col-last even-row-color">
<div class="block">Lazily constructed structure that is used to keep track of
 collision buckets that have overflowed once: this is used
 to detect likely attempts at denial-of-service attacks that
 uses hash collisions.</div>
</div>
<div class="col-first odd-row-color"><code>protected final <a href="CharsToNameCanonicalizer.html" title="class in com.fasterxml.jackson.core.sym">CharsToNameCanonicalizer</a></code></div>
<div class="col-second odd-row-color"><code><a href="#_parent" class="member-name-link">_parent</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Sharing of learnt symbols is done by optional linking of symbol
 table instances with their parents.</div>
</div>
<div class="col-first even-row-color"><code>protected final int</code></div>
<div class="col-second even-row-color"><code><a href="#_seed" class="member-name-link">_seed</a></code></div>
<div class="col-last even-row-color">
<div class="block">Seed value we use as the base to make hash codes non-static between
 different runs, but still stable for lifetime of a single symbol table
 instance.</div>
</div>
<div class="col-first odd-row-color"><code>protected int</code></div>
<div class="col-second odd-row-color"><code><a href="#_size" class="member-name-link">_size</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Current size (number of entries); needed to know if and when
 rehash.</div>
</div>
<div class="col-first even-row-color"><code>protected int</code></div>
<div class="col-second even-row-color"><code><a href="#_sizeThreshold" class="member-name-link">_sizeThreshold</a></code></div>
<div class="col-last even-row-color">
<div class="block">Limit that indicates maximum size this instance can hold before
 it needs to be expanded and rehashed.</div>
</div>
<div class="col-first odd-row-color"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</code></div>
<div class="col-second odd-row-color"><code><a href="#_symbols" class="member-name-link">_symbols</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Primary matching symbols; it's expected most match occur from
 here.</div>
</div>
<div class="col-first even-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicReference</a>&lt;com.fasterxml.jackson.core.sym.CharsToNameCanonicalizer.TableInfo&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#_tableInfo" class="member-name-link">_tableInfo</a></code></div>
<div class="col-last even-row-color">
<div class="block">Member that is only used by the root table instance: root
 passes immutable state info child instances, and children
 may return new state if they add entries to the table.</div>
</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#HASH_MULT" class="member-name-link">HASH_MULT</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#_hashToIndex(int)" class="member-name-link">_hashToIndex</a><wbr>(int&nbsp;rawHash)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Helper method that takes in a "raw" hash value, shuffles it as necessary,
 and truncates to be used as the index.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#_reportTooManyCollisions(int)" class="member-name-link">_reportTooManyCollisions</a><wbr>(int&nbsp;maxLen)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#bucketCount()" class="member-name-link">bucketCount</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method for checking number of primary hash buckets this symbol
 table uses.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#calcHash(char%5B%5D,int,int)" class="member-name-link">calcHash</a><wbr>(char[]&nbsp;buffer,
 int&nbsp;start,
 int&nbsp;len)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Implementation of a hashing method for variable length
 Strings.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#calcHash(java.lang.String)" class="member-name-link">calcHash</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#collisionCount()" class="member-name-link">collisionCount</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method mostly needed by unit tests; calculates number of
 entries that are in collision list.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="CharsToNameCanonicalizer.html" title="class in com.fasterxml.jackson.core.sym">CharsToNameCanonicalizer</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createRoot()" class="member-name-link">createRoot</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Method called to create root canonicalizer for a <a href="../JsonFactory.html" title="class in com.fasterxml.jackson.core"><code>JsonFactory</code></a>
 instance.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static <a href="CharsToNameCanonicalizer.html" title="class in com.fasterxml.jackson.core.sym">CharsToNameCanonicalizer</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createRoot(int)" class="member-name-link">createRoot</a><wbr>(int&nbsp;seed)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#findSymbol(char%5B%5D,int,int,int)" class="member-name-link">findSymbol</a><wbr>(char[]&nbsp;buffer,
 int&nbsp;start,
 int&nbsp;len,
 int&nbsp;h)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#hashSeed()" class="member-name-link">hashSeed</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CharsToNameCanonicalizer.html" title="class in com.fasterxml.jackson.core.sym">CharsToNameCanonicalizer</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#makeChild(int)" class="member-name-link">makeChild</a><wbr>(int&nbsp;flags)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">"Factory" method; will create a new child instance of this symbol
 table.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#maxCollisionLength()" class="member-name-link">maxCollisionLength</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method mostly needed by unit tests; calculates length of the
 longest collision chain.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#maybeDirty()" class="member-name-link">maybeDirty</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#release()" class="member-name-link">release</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method called by the using code to indicate it is done with this instance.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#size()" class="member-name-link">size</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#verifyInternalConsistency()" class="member-name-link">verifyInternalConsistency</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Diagnostics method that will verify that internal data structures are consistent;
 not meant as user-facing method but only for test suites and possible troubleshooting.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="HASH_MULT">
<h3>HASH_MULT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">HASH_MULT</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#com.fasterxml.jackson.core.sym.CharsToNameCanonicalizer.HASH_MULT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_parent">
<h3>_parent</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="CharsToNameCanonicalizer.html" title="class in com.fasterxml.jackson.core.sym">CharsToNameCanonicalizer</a></span>&nbsp;<span class="element-name">_parent</span></div>
<div class="block">Sharing of learnt symbols is done by optional linking of symbol
 table instances with their parents. When parent linkage is
 defined, and child instance is released (call to <code>release</code>),
 parent's shared tables may be updated from the child instance.</div>
</section>
</li>
<li>
<section class="detail" id="_tableInfo">
<h3>_tableInfo</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicReference</a>&lt;com.fasterxml.jackson.core.sym.CharsToNameCanonicalizer.TableInfo&gt;</span>&nbsp;<span class="element-name">_tableInfo</span></div>
<div class="block">Member that is only used by the root table instance: root
 passes immutable state info child instances, and children
 may return new state if they add entries to the table.
 Child tables do NOT use the reference.</div>
</section>
</li>
<li>
<section class="detail" id="_seed">
<h3>_seed</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">_seed</span></div>
<div class="block">Seed value we use as the base to make hash codes non-static between
 different runs, but still stable for lifetime of a single symbol table
 instance.
 This is done for security reasons, to avoid potential DoS attack via
 hash collisions.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>2.1</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_flags">
<h3>_flags</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">_flags</span></div>
</section>
</li>
<li>
<section class="detail" id="_canonicalize">
<h3>_canonicalize</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">_canonicalize</span></div>
<div class="block">Whether any canonicalization should be attempted (whether using
 intern or not.
<p>
 NOTE: non-final since we may need to disable this with overflow.</div>
</section>
</li>
<li>
<section class="detail" id="_symbols">
<h3>_symbols</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</span>&nbsp;<span class="element-name">_symbols</span></div>
<div class="block">Primary matching symbols; it's expected most match occur from
 here.</div>
</section>
</li>
<li>
<section class="detail" id="_buckets">
<h3>_buckets</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">com.fasterxml.jackson.core.sym.CharsToNameCanonicalizer.Bucket[]</span>&nbsp;<span class="element-name">_buckets</span></div>
<div class="block">Overflow buckets; if primary doesn't match, lookup is done
 from here.
<p>
 Note: Number of buckets is half of number of symbol entries, on
 assumption there's less need for buckets.</div>
</section>
</li>
<li>
<section class="detail" id="_size">
<h3>_size</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">_size</span></div>
<div class="block">Current size (number of entries); needed to know if and when
 rehash.</div>
</section>
</li>
<li>
<section class="detail" id="_sizeThreshold">
<h3>_sizeThreshold</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">_sizeThreshold</span></div>
<div class="block">Limit that indicates maximum size this instance can hold before
 it needs to be expanded and rehashed. Calculated using fill
 factor passed in to constructor.</div>
</section>
</li>
<li>
<section class="detail" id="_indexMask">
<h3>_indexMask</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">_indexMask</span></div>
<div class="block">Mask used to get index from hash values; equal to
 <code>_buckets.length - 1</code>, when _buckets.length is
 a power of two.</div>
</section>
</li>
<li>
<section class="detail" id="_longestCollisionList">
<h3>_longestCollisionList</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">_longestCollisionList</span></div>
<div class="block">We need to keep track of the longest collision list; this is needed
 both to indicate problems with attacks and to allow flushing for
 other cases.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>2.1</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_hashShared">
<h3>_hashShared</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">_hashShared</span></div>
<div class="block">Flag that indicates whether underlying data structures for
 the main hash area are shared or not. If they are, then they
 need to be handled in copy-on-write way, i.e. if they need
 to be modified, a copy needs to be made first; at this point
 it will not be shared any more, and can be modified.
<p>
 This flag needs to be checked both when adding new main entries,
 and when adding new collision list queues (i.e. creating a new
 collision list head entry)</div>
</section>
</li>
<li>
<section class="detail" id="_overflows">
<h3>_overflows</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/BitSet.html" title="class or interface in java.util" class="external-link">BitSet</a></span>&nbsp;<span class="element-name">_overflows</span></div>
<div class="block">Lazily constructed structure that is used to keep track of
 collision buckets that have overflowed once: this is used
 to detect likely attempts at denial-of-service attacks that
 uses hash collisions.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>2.4</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="createRoot()">
<h3>createRoot</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="CharsToNameCanonicalizer.html" title="class in com.fasterxml.jackson.core.sym">CharsToNameCanonicalizer</a></span>&nbsp;<span class="element-name">createRoot</span>()</div>
<div class="block">Method called to create root canonicalizer for a <a href="../JsonFactory.html" title="class in com.fasterxml.jackson.core"><code>JsonFactory</code></a>
 instance. Root instance is never used directly; its main use is for
 storing and sharing underlying symbol arrays as needed.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Root instance to use for constructing new child instances</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createRoot(int)">
<h3>createRoot</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type"><a href="CharsToNameCanonicalizer.html" title="class in com.fasterxml.jackson.core.sym">CharsToNameCanonicalizer</a></span>&nbsp;<span class="element-name">createRoot</span><wbr><span class="parameters">(int&nbsp;seed)</span></div>
</section>
</li>
<li>
<section class="detail" id="makeChild(int)">
<h3>makeChild</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CharsToNameCanonicalizer.html" title="class in com.fasterxml.jackson.core.sym">CharsToNameCanonicalizer</a></span>&nbsp;<span class="element-name">makeChild</span><wbr><span class="parameters">(int&nbsp;flags)</span></div>
<div class="block">"Factory" method; will create a new child instance of this symbol
 table. It will be a copy-on-write instance, ie. it will only use
 read-only copy of parent's data, but when changes are needed, a
 copy will be created.
<p>
 Note: while this method is synchronized, it is generally not
 safe to both use makeChild/mergeChild, AND to use instance
 actively. Instead, a separate 'root' instance should be used
 on which only makeChild/mergeChild are called, but instance itself
 is not used as a symbol table.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>flags</code> - Bit flags of active <a href="../JsonFactory.Feature.html" title="enum class in com.fasterxml.jackson.core"><code>JsonFactory.Feature</code></a>s enabled.</dd>
<dt>Returns:</dt>
<dd>Actual canonicalizer instance that can be used by a parser</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="release()">
<h3>release</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">release</span>()</div>
<div class="block">Method called by the using code to indicate it is done with this instance.
 This lets instance merge accumulated changes into parent (if need be),
 safely and efficiently, and without calling code having to know about parent
 information.</div>
</section>
</li>
<li>
<section class="detail" id="size()">
<h3>size</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">size</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Number of symbol entries contained by this canonicalizer instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="bucketCount()">
<h3>bucketCount</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">bucketCount</span>()</div>
<div class="block">Method for checking number of primary hash buckets this symbol
 table uses.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>number of primary slots table has currently</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="maybeDirty()">
<h3>maybeDirty</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">maybeDirty</span>()</div>
</section>
</li>
<li>
<section class="detail" id="hashSeed()">
<h3>hashSeed</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">hashSeed</span>()</div>
</section>
</li>
<li>
<section class="detail" id="collisionCount()">
<h3>collisionCount</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">collisionCount</span>()</div>
<div class="block">Method mostly needed by unit tests; calculates number of
 entries that are in collision list. Value can be at most
 (<a href="#size()"><code>size()</code></a> - 1), but should usually be much lower, ideally 0.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Number of collisions in the primary hash area</dd>
<dt>Since:</dt>
<dd>2.1</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="maxCollisionLength()">
<h3>maxCollisionLength</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">maxCollisionLength</span>()</div>
<div class="block">Method mostly needed by unit tests; calculates length of the
 longest collision chain. This should typically be a low number,
 but may be up to <a href="#size()"><code>size()</code></a> - 1 in the pathological case</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Length of the collision chain</dd>
<dt>Since:</dt>
<dd>2.1</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="findSymbol(char[],int,int,int)">
<h3>findSymbol</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">findSymbol</span><wbr><span class="parameters">(char[]&nbsp;buffer,
 int&nbsp;start,
 int&nbsp;len,
 int&nbsp;h)</span>
                  throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_hashToIndex(int)">
<h3>_hashToIndex</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">_hashToIndex</span><wbr><span class="parameters">(int&nbsp;rawHash)</span></div>
<div class="block">Helper method that takes in a "raw" hash value, shuffles it as necessary,
 and truncates to be used as the index.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rawHash</code> - Raw hash value to use for calculating index</dd>
<dt>Returns:</dt>
<dd>Index value calculated</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="calcHash(char[],int,int)">
<h3>calcHash</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">calcHash</span><wbr><span class="parameters">(char[]&nbsp;buffer,
 int&nbsp;start,
 int&nbsp;len)</span></div>
<div class="block">Implementation of a hashing method for variable length
 Strings. Most of the time intention is that this calculation
 is done by caller during parsing, not here; however, sometimes
 it needs to be done for parsed "String" too.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>buffer</code> - Input buffer that contains name to decode</dd>
<dd><code>start</code> - Pointer to the first character of the name</dd>
<dd><code>len</code> - Length of String; has to be at least 1 (caller guarantees)</dd>
<dt>Returns:</dt>
<dd>Hash code calculated</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="calcHash(java.lang.String)">
<h3>calcHash</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">calcHash</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;key)</span></div>
</section>
</li>
<li>
<section class="detail" id="_reportTooManyCollisions(int)">
<h3>_reportTooManyCollisions</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">_reportTooManyCollisions</span><wbr><span class="parameters">(int&nbsp;maxLen)</span>
                                 throws <span class="exceptions"><a href="../exc/StreamConstraintsException.html" title="class in com.fasterxml.jackson.core.exc">StreamConstraintsException</a></span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>maxLen</code> - Maximum allowed length of collision chain</dd>
<dt>Throws:</dt>
<dd><code><a href="../exc/StreamConstraintsException.html" title="class in com.fasterxml.jackson.core.exc">StreamConstraintsException</a></code> - if there are too many collisions (was an IllegalStateException before v2.15)</dd>
<dt>Since:</dt>
<dd>2.1</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="verifyInternalConsistency()">
<h3>verifyInternalConsistency</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">verifyInternalConsistency</span>()</div>
<div class="block">Diagnostics method that will verify that internal data structures are consistent;
 not meant as user-facing method but only for test suites and possible troubleshooting.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>2.10</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
